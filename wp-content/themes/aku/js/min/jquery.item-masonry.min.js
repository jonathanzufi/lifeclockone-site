/*!
 * Masonry
 * We use the same script for all post types that uses masonry
 */
var WolfThemeParams=WolfThemeParams||{},WolfThemeUi=WolfThemeUi||{},WolfThemeMasonry=WolfThemeMasonry||{},WolfThemeLikesViews=WolfThemeLikesViews||{},console=console||{};WolfThemeMasonry=function(a){"use strict";return{winHeight:a(window).height(),extraScrollPx:2e3,clock:0,timer:null,resizeTime:null,resizeClock:0,init:function(){var b=this;a("body").hasClass("masonry")&&(this.masonry(),this.resizeTimer()),a("body").hasClass(this.getPostType()+"-infinite-scroll")&&this.infiniteScroll(),a(window).resize(function(){b.winHeight=a(window).height()}).resize()},resizeTimer:function(){var b=this,c=a("body.masonry #"+this.getPostType()+"s-content");b.resizeTime=setInterval(function(){b.resizeClock++,c.isotope("layout"),3===b.resizeClock&&b.clearResizeTime()},2e3)},clearResizeTime:function(){clearInterval(this.resizeTime)},masonry:function(){var b,c=this,d=a("body.masonry #"+this.getPostType()+"s-content"),e=a("#"+this.getPostType()+"-filter"),f=e.find("a"),g="masonry";"post"!==this.getPostType()&&a("body").hasClass(this.getPostType()+"-isotope")&&f.click(function(){return b=a(this).attr("data-filter"),f.attr("href","#"),d.isotope({filter:"."+b,itemSelector:"."+c.getPostType()+"-item-container",animationEngine:"best-available"}),f.removeClass("active"),a(this).addClass("active"),!1}),"masonry-horizontal"===WolfThemeParams.workType&&"work"===this.getPostType()&&(g="packery"),d.imagesLoaded(function(){d.isotope({itemSelector:"."+c.getPostType()+"-item-container",animationEngine:"none",layoutMode:g})})},infiniteScroll:function(){var b=this,c=a("#"+this.getPostType()+"s-content"),d=1,e=a("#"+this.getPostType()+"-trigger"),f=a("#"+this.getPostType()+"-trigger a");c.isotope({itemSelector:"."+this.getPostType()+"-item-container"}),WolfThemeParams.currentPostType.trigger?(f.html(WolfThemeParams.loadMoreMsg),e.find("a").on("click",function(a){a.preventDefault()}),e.on("click",function(){var g,h=a(this).find("a").attr("href"),i=".item-grid",j="#"+b.getPostType()+"-trigger a",k=a(j).attr("href");return a(this).hasClass("trigger-loading")?!1:(a(this).addClass("trigger-loading"),f.html(WolfThemeParams.infiniteScrollMsg),a.get(h+"",function(h){var l=a(i,h).wrapInner("").html();k=a(j,h).attr("href"),g=a(l).css({opacity:0}),c.append(g).isotope("reloadItems").isotope({sortBy:"original-order"}),b.callBack(g),setTimeout(function(){c.isotope("layout"),g.animate({opacity:1}),b.resizeTimer(),e.removeClass("trigger-loading"),f.html(WolfThemeParams.loadMoreMsg)},400),e.data("max")>d?f.attr("href",k):e.remove()}),void d++)})):c.infinitescroll({navSelector:".nav-previous",nextSelector:".nav-previous a",itemSelector:"."+b.getPostType()+"-item-container",loading:{finishedMsg:WolfThemeParams.infiniteScrollEndMsg,msgText:WolfThemeParams.infiniteScrollMsg,img:WolfThemeParams.infiniteScrollEmptyLoad,extraScrollPx:b.extraScrollPx}},function(d){var e=a(d).css({opacity:0});e.imagesLoaded(function(){b.callBack(e),c.isotope("appended",e),e.animate({opacity:1}),b.resizeTimer()})})},callBack:function(b){WolfThemeUi.fluidVideos(b),WolfThemeUi.youtubeWmode(),WolfThemeUi.removeVimeoTitle(),WolfThemeUi.flexSlider(),WolfThemeUi.lightbox(),WolfThemeLikesViews.likes(),WolfThemeUi.videoGridHoverEffect(),WolfThemeUi.videoShortcode(),b.find(".twitter-tweet").length&&a.getScript("http://platform.twitter.com/widgets.js"),b.find("audio,video").length&&b.find("audio,video").mediaelementplayer(),WolfThemeUi.loadInstagram(),WolfThemeUi.loadTwitter()},getPostType:function(){return WolfThemeParams.currentPostType.postType}}}(jQuery),function(a){"use strict";a(document).ready(function(){WolfThemeMasonry.init()})}(jQuery);